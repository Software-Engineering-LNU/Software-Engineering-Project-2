@using EmployeestWeb.Models
@model EmployeestWeb.Models.EmployeeViewModel
@{
    ViewData["Title"] = "Dashboard";
    ViewData["UserName"] = Model.FullName;
}

<div class="dashboard">
    <div class="block">
        <header class="header">
            <h3>Home</h3>
            <h1>Welcome, @Model.FullName</h1>
        </header>
        <div class="blocks">
            <div class="first-row">
                <div class="content-block my-projects">
                    <div class="block-heading">
                        <h2 class="heading project-heading">My projects</h2>
                        @{
                            int projectsSize = 0;
                            if (Model.Projects != null)
                            {
                                projectsSize = Model.Projects.Count();
                            }
                            <div class="counter project-counter">@projectsSize</div>
                        }
                    </div>
                    <div class="project">
                        @{
                            if (Model.Projects != null) 
                            {
                                int i = 0;
                                foreach (var project in Model.Projects) 
                                {
                                    if (i < 2) {
                                        <img class="project-avatar"
                                        src="~/assets/project-avatar.svg"
                                        alt="Icon for project">
                                        <div class="project-content">
                                            <div class="project-name-wrapper">
                                                <div class="project-name">@project.Name</div>
                                            </div>
                                            <div><a class="more-info">View more information</a></div>
                                        </div>
                                        ++i;
                                    }
                                }
                            }
                        }
                    </div>
                </div>
                <div class="content-block my-team">
                    <div class="block-heading">
                        <h2 class="heading project-heading">My teams</h2>
                        @{
                            int teamsSize = 0;
                            if (Model.Teams != null)
                            {
                                teamsSize = Model.Teams.Count();
                            }
                            <div class="counter project-counter">@teamsSize</div>
                        }
                    </div>
                    <div class="team-list-wrapper">
                        <div class="team-list">
                            <div class="member-body">
                                @{
                                    if (Model.Teams != null)
                                    {
                                        int i = 0;
                                        foreach (var team in Model.Teams)
                                        {
                                            if (i < 2)
                                            {
                                                <img class="member-avatar"
                                                src="~/assets/team-member-avatar.svg"
                                                alt="">
                                                <div class="member-content">
                                                    <div class="name-wrapper">
                                                        <div class="member-name">@team.Name</div>
                                                    </div>
                                                    <div><a class="more-info">View more information</a></div>
                                                </div>
                                                ++i;
                                            }
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="second-row">
                <div class="content-block statistics">
                    <div class="block-heading">
                        <h2 class="heading statistics-heading">Statistics</h2>
                        <div class="statistics-label">Working hours per day</div>
                    </div>
                    <div class="stat-block"></div>
                </div>
                
            </div>
        </div>
    </div>
    <aside class="aside-block">
        <div class="tasks-block">
            <div class="tasks-heading-wrapper">
                <h2 class="tasks-heading">My tasks</h2>
                <div class="date-switcher">
                    <button class="switch-button left-switch-button">
                        <img class="switch-arrow" 
                             src="~/assets/left-arrow.svg" 
                             alt="Left arrow"
                        >
                    </button>
                    <div class="day-label">Today</div>
                    <button class="switch-button right-switch-button">
                        <img 
                            class="switch-arrow" 
                            src="~/assets/right-arrow.svg" 
                            alt="Right arrow"
                        >
                    </button>
                </div>
            </div>
            
            @{
                var tasks = new List<string> { "Task 1", "Task 2", "Task 3", "Task 4", "Task 5" };
            }
            <div class="task-list">
                @if (Model.Tasks != null)
                {
                    foreach (var task in Model.Tasks)
                    {
                        <div class="task">
                            <div class="task-name-wrapper">
                                <div class="task-indicator"></div>
                                <div class="task-name">@task.Name</div>
                            </div>
                            <div class="functionality-wrapper">
                                <button class="start-task-button">
                                    Start task
                                </button>
                                <button class="options-button">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </button>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </aside>
</div>
